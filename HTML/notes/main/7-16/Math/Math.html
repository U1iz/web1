<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math</title>
    <link rel="shortcut icon" href="../../../../img/favicon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 24px;
        }

        body {
            background-color: rgba(0, 0, 0, 0.3);
            overflow-y: hidden;
            overflow-x: hidden;
        }

        ul,
        li {
            position: relative;
        }

        ul {
            width: 70%;
            height: 60%;
            margin: 0.8rem auto;
            text-align: center;
            box-shadow: -4px 4px 6px .1px rgba(0, 0, 0, 0.2);
            background-color: #fff;
            transition: all 0.3s;
        }

        ul:hover {
            box-shadow: 6px 6px 16px 4px rgba(0, 0, 0, 0.3);
        }

        li {
            text-align: center;
            list-style-type: none;
            cursor: pointer;
            letter-spacing: 2px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
        }

        li h1 {
            font: 800 1.5/1.6rem "microsoft yaHei";
        }
    </style>
    <script>
        document.addEventListener('selectstart', function (e) {
            e.preventDefault();
        });
        window.addEventListener('DOMContentLoaded', function () {

            /* 
            var i1 = document.getElementById('solidGeometry');
            var i2 = document.getElementById('function');
            var i3 = document.getElementById('iNum');
            var iLast = document.getElementById('more')
            var flag = 0;

            i1.addEventListener('click', function () {
                var win1 = window.open('html/solidGeometry.html', '', 'height=525px,width=611,scrollbars=yes,status=yes');
                window.win1 = win1;
                win2.close();
                win3.close();
                flag = 1;
            });
            i2.addEventListener('click', function () {
                win2.close();
                var win2 = window.open('html/quadraticFunction.html', '', 'height=525px,width=611,scrollbars=yes,status=yes');
                window.win2 = win2;
                win1.close();
                win3.close();
                flag = 2;
            });
            i3.addEventListener('click', function () {
                win3.close();
                var win3 = window.open('html/imaginaryNumber.html', '', 'height=525px,width=611,scrollbars=yes,status=yes');
                window.win3 = win3;
                win1.close();
                win2.close();
                flag = 3;

            });
            iLast.addEventListener('click', function () {
                win1.close();
                win2.close();
                win3.close();
                flag = null;

            }); */

            var lis = document.getElementById('content').querySelectorAll('li');

            function newTab(e, location) {
                e.flag = 0;
                e.onclick = function () {
                    if (location == 'javascript:;') {
                    } else {
                        if (equipmentPC) {
                            e.tab = window.open(location, '', 'height=525px,width=611,scrollbars=yes,status=yes');
                            e.flag++;
                            console.log(e.tab == null);
                            console.log(e.flag);
                            if (e.flag >= 2) {
                                e.flag--;
                                (e.tab).close();
                                console.log(e.flag);
                            }
                        } else {
                            e.tab = window.open(location, '', 'height=525px,width=611,scrollbars=yes,status=yes');
                        }
                    }
                    // console.log(e.tab);
                    /* setTimeout(function () {
                        (e.tab).close();
                    }, 200) */
                }
            };
            // 先关掉其他窗口，再打开需要的窗口
            // for (var i = 0; i < lis.length; i++) {
            //     console.log(lis[i].tab);
            // }
            /* function tabClose() {
                for (var i = 0; i < lis.length; i++) {
                    (lis[i].tab).close();
                }
            } */
            // newTab(i3, 'html/imaginaryNumber.html')
            for (var i = 0; i < lis.length; i++) {
                var tab;
                switch (i) {
                    case 0:
                        // tabClose()
                        tab = 'html/solidGeometry.html';
                        break;
                    case 1:
                        tab = 'html/quadraticFunction.html';
                        break;
                    case 2:
                        tab = 'html/imaginaryNumber.html';
                        break;
                    case 3:
                        tab = 'html/shuLie.html';
                        break;
                    case 4:
                        tab = 'html/vector.html';
                        break;
                    case 5:
                        tab = 'html/jiHe.html';
                        break;
                    case 6:
                        tab = 'html/PAndC.html';
                        break;
                    case 7:
                        tab = 'html/function.html';
                        break;
                    case lis.length - 1:
                        tab = 'javascript:;';
                        break;
                }
                newTab(lis[i], tab);
            }
        })
    </script>
    <style>
        aside,
        span {
            cursor: default;
        }

        aside,
        footer {
            position: absolute;
            bottom: 0;
        }

        aside {
            position: absolute;
            right: 0;
            font: 400 0.6rem 'microsoft yaHei' !important;
        }

        footer {
            display: block;
            text-align: center;
            padding: 0.5rem;
            margin-bottom: 1rem;
            font: 400 0.8rem 'microsoft yaHei' !important;
        }
    </style>
</head>

<body>
    <script>
        var span = document.getElementsByTagName('span');
        var aside = document.getElementsByTagName('aside');
        var footer = document.getElementsByTagName('footer');
        setTimeout(function () {
            footer[0].style.display = 'none';
            span[0].style.color = 'transparent';
        }, 12000);
    </script>
    <aside style="position: absolute">资料由百度网友和好友 <strong>徐yy</strong> 提供，网页设计及资料整合by: <strong>yzl</strong></aside>
    <span id="tip">一类窗口只能打开一次，刷新(F5)重置次数</span>
    <ul id="content">
        <li id="solidGeometry">
            <!-- solid geometry -->
            <h1 id="sGeometry">空间几何(complete)</h1>
        </li>
        <li>
            <h1 id="function"></h1>
        </li>
        <li id="iNum">
            <!-- imaginary number -->
            <h1>虚 数</h1>
        </li>
        <li>
            <!-- vector -->
            <h1 id="arr">数 列(complete)</h1>
        </li>
        <li>
            <h1>向 量</h1>
        </li>
        <li>
            <h1>集 合</h1>
        </li>
        <li>
            <h1>排列与组合</h1>
        </li>
        <li id="eFunction">
            <!-- quadratic function -->
            <h1>函 数</h1>
        </li>
        <li id="more">
            <h1>...</h1>
        </li>
    </ul>
    <footer>网址起始页: <a href="http://res1433223.net3v.net" style="text-decoration:none"
            target="_blank">res1433223.net3v.net</a></footer>
    <script>
        var lis = document.getElementById('content').querySelectorAll('li');
        var contender = document.getElementById('content');
        var equipmentPC;
        function phoneFunction() {
            document.getElementById('tip').remove();
            document.getElementById('function').innerHTML = '直线方程<br>与<br>圆方程';
            document.getElementById('arr').innerHTML = '数列(C)';
            document.getElementById('sGeometry').innerHTML = '空间几何(C)';
            contender.style.marginTop = '8rem';
            for (var i = 0; i < lis.length; i++) {
                lis[i].style.padding = '8rem auto';
                console.log(lis[i].style.padding);
            };
            equipmentPC = false;
        }
        (function () {
            var sUserAgent = navigator.userAgent.toLowerCase();
            var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
            var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
            var bIsMidp = sUserAgent.match(/midp/i) == "midp";
            var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
            var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
            var bIsAndroid = sUserAgent.match(/android/i) == "android";
            var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
            var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";
            if (bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
                document.documentElement.style.fontSize = '14px';
                phoneFunction();
            } else if (bIsIpad) {
                document.documentElement.style.fontSize = '16px';
                phoneFunction();
            } else {
                document.documentElement.style.fontSize = '32px';
            document.getElementById('function').innerHTML = '直线方程与圆方程';
                equipmentPC = true;
            }
        }());

        /*  
                var header1 = document.getElementById("arr");
                var p = document.createElement("p"); // 创建一个元素节点
                insertAfter(p, header1); // 因为js没有直接追加到指定元素后面的方法 所以要自己创建一个方法
                function insertAfter(newElement, targetElement) { // newElement是要追加的元素 targetElement 是指定元素的位置
                    var parent = targetElement.parentNode; // 找到指定元素的父节点
                    if (parent.lastChild == targetElement) { // 判断指定元素的是否是节点中的最后一个位置 如果是的话就直接使用appendChild方法
                        parent.appendChild(newElement, targetElement);
                    } else {
                        parent.insertBefore(newElement, targetElement.nextSibling);
                    };
                }; */

        console.log(equipmentPC);
        var item = document.querySelectorAll('li');
        var cont = document.getElementById('content');
        if (equipmentPC) {
            cont.addEventListener('mouseenter', function () {
                for (i = 0; i <= item.length - 2; i++) {
                    item[i].style.borderBottom = "12px solid rgba(0, 0, 0, 0.3)";
                }
            });
            cont.addEventListener('mouseleave', function () {
                for (i = 0; i < item.length; i++) {
                    item[i].style.borderBottom = "1px solid rgba(0, 0, 0, 0.3)";
                }
            });
        };
        for (i = 0; i <= item.length; i++) {
            item[i].addEventListener('mouseenter', function () {
                this.style.backgroundColor = "#ccc";
                this.style.letterSpacing = "0.8rem";
                this.style.color = "rgba(255, 255, 255, .9)";
                this.addEventListener('mouseleave', function () {
                    this.style.color = "black";
                    this.style.backgroundColor = '#fff';
                    this.style.letterSpacing = "2px";
                })
            })
        };
    </script>
</body>

</html>